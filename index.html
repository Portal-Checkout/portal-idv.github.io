<div id="vyyer-widget-container"></div>
<script src="https://vyyer.id/pkg/latest/vyyer-widget.js" async></script>
<script>
  document.addEventListener('DOMContentLoaded', function () {
    const container = document.getElementById('vyyer-widget-container');
    const vyyerWidget = document.createElement('vyyer-widget');
    vyyerWidget.setAttribute('module-url', 'https://vyyer.id/idscan/');
    vyyerWidget.setAttribute('api-key', 'fa6ad4836d734cea5d4e7422474884b6');
    vyyerWidget.setAttribute('api-url', 'https://cmrvkpz.vyyer-clients.com');
    vyyerWidget.setAttribute('workflow', '');
    vyyerWidget.setAttribute('user-uid', '');
    container.appendChild(vyyerWidget);

    window.setStateCallback((state) => {
      console.log("state callback: " + state);
      if (state === 'cancelled') {
        window.ReactNativeWebView.postMessage(JSON.stringify({ result: false }));
      } else if (state === 'done') {
        window.ReactNativeWebView.postMessage(JSON.stringify({ result: true }));
      }
    })

  });
</script>